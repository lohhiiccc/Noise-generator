TODO: error handling in WindowManager.cpp